import{C as I,u as p,N as w}from"./NavService-CA9-EOMK.js";import{m as S,_ as g,h,o as n,c,a as e,n as f,l as r,t as l,w as v,v as D,e as C,p as N,i as O,f as B,x as T,M as A,k as F,F as L,r as j,q as V}from"./index-2IeyWMcP.js";const H={data(){return{cardType:"officer",editMode:!1,firstName:this.officerCard.firstName,lastName:this.officerCard.lastName}},components:{CardButtons:I},props:{officerCard:{type:Object}},methods:{hideDetails(){this.$emit("hideDetails")},setOfficer(){this.editMode=!0},setOfficerOff(){this.editMode=!1},pushOfficer(){this.officersStore.updateOfficer(this.officerCard._id,{firstName:this.firstName,lastName:this.lastName}),this.updated&&this.setOfficerOff()}},computed:{colorSetter(){return this.officerCard.approved?"var(--green)":"var(--red)"},officersStore(){return p()},editingFirst(){if(this.firstName===this.officerCard.firstName)return"var(--red)"},editingLast(){if(this.lastName===this.officerCard.lastName)return"var(--red)"},...S(p,{updated:"updated"})}},_=t=>(N("data-v-7e84c3e3"),t=t(),O(),t),q={class:"officerCard__details__container"},$={class:"officerCard__details__container__content"},P={class:"officerCard__details__container__content__more__top"},R={key:0},U=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("First Name: "),e("br")],-1)),z={key:1},E=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("First Name: "),e("br")],-1)),X={key:2},G=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("Last Name: "),e("br")],-1)),J={key:3},K=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("Last Name: "),e("br")],-1)),Q=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("email: "),e("br")],-1)),W=_(()=>e("span",{class:"officerCard__details__container__content__more-info"},[r("approved: "),e("br")],-1));function Y(t,s,a,y,d,i){const m=h("CardButtons");return n(),c("div",null,[e("div",q,[e("div",$,[e("div",{class:"officerCard__details__container__content__more",style:f({color:i.colorSetter})},[e("div",P,[e("ul",null,[this.editMode?(n(),c("li",z,[E,v(e("input",{style:f({color:i.editingFirst}),"onUpdate:modelValue":s[0]||(s[0]=o=>this.firstName=o),name:"firstName",id:"firstName",type:"text"},null,4),[[D,this.firstName]])])):(n(),c("li",R,[U,r(" "+l(a.officerCard.firstName),1)])),this.editMode?(n(),c("li",J,[K,v(e("input",{style:f({color:i.editingLast}),"onUpdate:modelValue":s[1]||(s[1]=o=>this.lastName=o),name:"lastName",id:"lastName",type:"text"},null,4),[[D,this.lastName]])])):(n(),c("li",X,[G,r(" "+l(a.officerCard.lastName),1)])),e("li",null,[Q,r(" "+l(a.officerCard.email),1)]),e("li",{style:f({color:i.colorSetter})},[W,r(" "+l(a.officerCard.approved?"yes":"no"),1)],4)])])],4)]),C(m,{officerCard:a.officerCard,cardType:d.cardType,editMode:d.editMode,onSetOfficer:s[2]||(s[2]=o=>i.setOfficer()),onPushOfficer:s[3]||(s[3]=o=>i.pushOfficer())},null,8,["officerCard","cardType","editMode"]),e("button",{class:"officerCard__details__container-hide",onClick:s[4]||(s[4]=(...o)=>i.hideDetails&&i.hideDetails(...o))}," x ")])])}const Z=g(H,[["render",Y],["__scopeId","data-v-7e84c3e3"]]),ee={components:{OfficerCardDetails:Z},props:{officerCard:{type:Object,required:!0},isActive:{type:Boolean,required:!0}},data(){return{position:null}},methods:{toggleDetails(){this.$emit("toggleDetails"),this.$nextTick(()=>{const s=this.$refs.info.getBoundingClientRect();this.position=-(s.left+window.pageXOffset)+"px"})},hideDetails(){this.$emit("hideDetails")},setImage(t){return t?"url('/src/assets/pics/card-officer.jpg')":"url('/src/assets/pics/card-officer-disabled.jpg')"},setDetailsImage(t){return t?"url('/src/assets/pics/card-officer-full.jpg')":"url('/src/assets/pics/card-officer-disabled-full.jpg')"}},computed:{colorSetter(){return this.officerCard.approved?"var(--green)":"var(--red)"},addMargin(){return this.isActive?"540px":setTimeout(()=>"0",1e3)},leftOffset(){return this.isActive?this.position:"1000px"}},mounted(){}},M=t=>(N("data-v-dd15b156"),t=t(),O(),t),te={class:"officerCard__info-mini"},ie=M(()=>e("span",{class:"officerCard__info"},[r("First Name: "),e("br")],-1)),se=M(()=>e("span",{class:"officerCard__info"},[r("Last Name: "),e("br")],-1));function re(t,s,a,y,d,i){const m=h("OfficerCardDetails");return n(),c("div",{ref:"info",class:"officerCard",style:f({color:i.colorSetter,marginBottom:i.addMargin,backgroundImage:i.setImage(a.officerCard.approved)})},[e("ul",{onClick:s[0]||(s[0]=B(o=>i.toggleDetails(),["stop"]))},[e("li",te,l(a.officerCard._id),1),e("li",null,[ie,r(" "+l(a.officerCard.firstName),1)]),e("li",null,[se,r(" "+l(a.officerCard.lastName),1)])]),v(C(m,{style:f({left:i.leftOffset,backgroundImage:i.setDetailsImage(a.officerCard.approved)}),class:"officerCard__details",officerCard:a.officerCard,onHideDetails:i.hideDetails},null,8,["style","officerCard","onHideDetails"]),[[T,a.isActive]])],4)}const ae=g(ee,[["render",re],["__scopeId","data-v-dd15b156"]]),oe={components:{MainLink:A,MainMenu:F,OfficerCard:ae,NavService:w},data(){return{textColor:"var(--red)",links:[{name:"Main",discription:"return to main page.",link:"/"},{name:"Reports",discription:"Page with all theft reports.",link:"/reports"}],activeCase:null}},methods:{toggleCase(t){this.activeCase=this.activeCase===t?null:t},hideCase(t){this.activeCase=null}},mounted(){this.officersStore.getAllOfficers()},computed:{officersStore(){return p()},...S(p,{officers:"officers"})}},b=t=>(N("data-v-98e762bd"),t=t(),O(),t),ne={class:"content"},ce={class:"content__up"},de={class:"greet"},fe=b(()=>e("span",null,"Officers",-1)),le=b(()=>e("br",null,null,-1)),_e={class:"content__down"};function me(t,s,a,y,d,i){const m=h("NavService"),o=h("OfficerCard"),x=h("MainMenu");return n(),c("div",ne,[e("div",ce,[C(m),e("div",de,[e("h1",{style:f({color:d.textColor})},[fe,le,r(" list of officers")],4)])]),e("div",_e,[(n(!0),c(L,null,j(t.officers,u=>(n(),V(o,{key:u._id,officerCard:u,isActive:d.activeCase===u._id,onToggleDetails:k=>i.toggleCase(u._id),onHideDetails:k=>i.hideCase(u._id)},null,8,["officerCard","isActive","onToggleDetails","onHideDetails"]))),128))]),C(x,{textColor:d.textColor},null,8,["textColor"])])}const pe=g(oe,[["render",me],["__scopeId","data-v-98e762bd"]]);export{pe as default};
